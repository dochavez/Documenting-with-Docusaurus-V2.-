(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{65:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"metadata",(function(){return l})),t.d(n,"rightToc",(function(){return p})),t.d(n,"default",(function(){return s}));var r=t(2),i=t(6),a=(t(0),t(90)),o={id:"doc7",title:"Developing with OpenXR and Monado"},l={unversionedId:"doc7",id:"doc7",isDocsHomePage:!1,title:"Developing with OpenXR and Monado",description:"The OpenXR SDK.",source:"@site/docs\\developing.md",slug:"/doc7",permalink:"/Documenting-with-Docusaurus-V2.-/docs/doc7",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/developing.md",version:"current",sidebar:"someSidebar",previous:{title:"Installation Directly",permalink:"/Documenting-with-Docusaurus-V2.-/docs/doc6"},next:{title:"Code Examples and References",permalink:"/Documenting-with-Docusaurus-V2.-/docs/samplescode"}},p=[{value:"The OpenXR SDK.",id:"the-openxr-sdk",children:[]},{value:"Setting up the project",id:"setting-up-the-project",children:[]},{value:"Application.",id:"application",children:[]}],c={rightToc:p};function s(e){var n=e.components,t=Object(i.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},c,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("h3",{id:"the-openxr-sdk"},"The OpenXR SDK."),Object(a.b)("p",null,"On Archlinux, the OpenXR loader installs these files"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"/usr/lib/libopenxr_loader.so*\n    The library that applications use for linking to OpenXR. Usually with soname symlinks: libopenxr_loader.so, libopenxr_loader.so.1 and libopenxr_loader.so.1.0.11\n/usr/lib/cmake/openxr/*.cmake\n    cmake files that enable cmake directives like PKG_SEARCH_MODULE(OPENXR REQUIRED openxr)\n/usr/lib/pkgconfig/openxr.pc\n    pkg-config files that can be used by cmake with FindPkgConfig or non-cmake build systems.\n    Run pkg-config --libs --cflags openxr to see what it provides.\n")),Object(a.b)("p",null,"Other distributions may use different paths like /usr/lib/x86_64-linux-gnu/...."),Object(a.b)("p",null,"The OpenXR headers"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),"/usr/include/openxr/openxr.h\n    The main OpenXR API header.\n/usr/include/openxr/openxr_platform_defines.h\n    Various platform defines used by the main OpenXR API header. Usually you don\u2019t need to use it directly.\n/usr/include/openxr/openxr_platform.h\n    The part of the OpenXR API that is platform specific.\n    Before including this header, add defines for the parts you want to use, e.g.\n        #define XR_USE_PLATFORM_XLIB\n        #define XR_USE_GRAPHICS_API_OPENGL\n/usr/include/openxr/openxr_reflection.h\n    Not necessary, but useful for iterating over OpenXR enums, or getting string representations of OpenXR enum values.\n")),Object(a.b)("p",null,"To start developing for OpenXR only those components are necessary. Similar to how Vulkan applications are developed by including Khronos\u2019 Vulkan headers and linking to Khronos\u2019 Vulkan loader, OpenXR applications include Khronos\u2019 OpenXR headers and link to Khronos\u2019 OpenXR loader. Just like compiling a Vulkan application does not require any Vulkan driver to be installed, compiling an OpenXR application does not require any OpenXR runtime to be installed."),Object(a.b)("p",null,"Khronos has not released a reference implementation for OpenXR, so for actually running an OpenXR application some vendor\u2019s OpenXR runtime (for example Monado) has to be installed."),Object(a.b)("h3",{id:"setting-up-the-project"},"Setting up the project"),Object(a.b)("h4",{id:"cmake"},"CMake"),Object(a.b)("p",null,"Here is a minimal cmake example to compile an example executable that can include OpenXR headers and links to the OpenXR loader."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),'cmake_minimum_required(VERSION 3.0.0)\nproject(Example)\n\nadd_executable(example main.c)\n\nfind_package(OpenXR REQUIRED)\nif(OpenXR_FOUND)\n  target_include_directories(example PRIVATE OpenXR::Headers)\n  target_link_libraries(example PRIVATE OpenXR::openxr_loader)\nelse()\n  MESSAGE(FATAL_ERROR "Please verify your OpenXR SDK installation")\nendif()\n')),Object(a.b)("p",null,"As an alternative you can use OpenXR\u2019s pkg-config file with CMake\u2019s FindPkgConfig module."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),'cmake_minimum_required(VERSION 3.0.0)\nproject(Example)\n\nadd_executable(example main.c)\n\nINCLUDE(FindPkgConfig)\nPKG_SEARCH_MODULE(OpenXR REQUIRED openxr)\nif(OpenXR_FOUND)\n  target_link_libraries(example PRIVATE ${OpenXR_LIBRARIES})\n  target_include_directories(example PRIVATE ${OpenXR_HEADERS})\nelse()\n  MESSAGE(FATAL_ERROR "Please verify your OpenXR SDK installation")\nendif()\n')),Object(a.b)("h3",{id:"application"},"Application."),Object(a.b)("p",null,"With this project setup you can start including the ",Object(a.b)("inlineCode",{parentName:"p"},"<openxr/openx.h>")," header and start calling OpenXR functions."),Object(a.b)("p",null,"As a starting point, here is a minimal C example for starting an OpenGL application on Linux with the xlib graphics binding."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{}),'// openxr_platform.h does not include all its dependencies, we have to include some headers before it\n#include <string.h>\n#include <X11/Xlib.h>\n#include <GL/glx.h>\n\n// before including openxr_platform.h we have to define which platform specific parts we want enabled\n#define XR_USE_PLATFORM_XLIB\n#define XR_USE_GRAPHICS_API_OPENGL\n#include <openxr/openxr.h>\n#include <openxr/openxr_platform.h>\n\nint main()\n{\n  char *extensions[] = { XR_KHR_OPENGL_ENABLE_EXTENSION_NAME };\n  int extension_count = sizeof(extensions) / sizeof(extensions[0]);\n\n  XrInstanceCreateInfo instanceCreateInfo = {\n    .type = XR_TYPE_INSTANCE_CREATE_INFO,\n    .next = NULL,\n    .createFlags = 0,\n    .enabledExtensionCount = extension_count,\n    .enabledExtensionNames = (const char * const *) extensions,\n    .enabledApiLayerCount = 0,\n    .applicationInfo =  {\n      .applicationVersion = 1,\n      .engineVersion = 0,\n      .apiVersion = XR_CURRENT_API_VERSION,\n    },\n  };\n\n  strncpy(instanceCreateInfo.applicationInfo.applicationName, "Example Application", XR_MAX_APPLICATION_NAME_SIZE);\n  strncpy(instanceCreateInfo.applicationInfo.engineName, "Example Engine", XR_MAX_APPLICATION_NAME_SIZE);\n\n  XrInstance instance;\n  xrCreateInstance(&instanceCreateInfo, &instance);\n  return 0;\n}\n\n')))}s.isMDXComponent=!0},90:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return m}));var r=t(0),i=t.n(r);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=i.a.createContext({}),s=function(e){var n=i.a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},u=function(e){var n=s(e.components);return i.a.createElement(c.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return i.a.createElement(i.a.Fragment,{},n)}},b=i.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,o=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),u=s(t),b=r,m=u["".concat(o,".").concat(b)]||u[b]||d[b]||a;return t?i.a.createElement(m,l(l({ref:n},c),{},{components:t})):i.a.createElement(m,l({ref:n},c))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,o=new Array(a);o[0]=b;var l={};for(var p in n)hasOwnProperty.call(n,p)&&(l[p]=n[p]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var c=2;c<a;c++)o[c]=t[c];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);